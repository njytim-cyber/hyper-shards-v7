[{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\eslint.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\playwright.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\scripts\\auto-doc.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\scripts\\generate-media.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\scripts\\init-repo.cjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\App.tsx","messages":[{"ruleId":"react-hooks/refs","severity":2,"message":"Error: Cannot access refs during render\n\nReact refs are values that are not needed for rendering. Refs should only be accessed outside of render, such as in event handlers or effects. Accessing a ref value (the `current` property) during render can cause your component not to update as expected (https://react.dev/reference/react/useRef).\n\nC:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\App.tsx:45:46\n  43 |   const [levelText, setLevelText] = useState({ show: false, wave: 1, sub: '', hint: '', isBoss: false });\n  44 |   const initializedRef = useRef(false);\n> 45 |   const [highScore, setHighScore] = useState(() => {\n     |                                              ^^^^^^^\n> 46 |     // Load persistence synchronously during initial render\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 47 |     if (!initializedRef.current) {\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 48 |       persistence.load();\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 49 |       initializedRef.current = true;\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 50 |     }\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 51 |     return persistence.profile.highScore;\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 52 |   });\n     | ^^^^ Passing a ref to a function may read its value during render\n  53 |   const [isNewHighScore, setIsNewHighScore] = useState(false);\n  54 |   const [showDailyRewards, setShowDailyRewards] = useState(false);\n  55 |   const [previousState, setPreviousState] = useState<GameStateType>('START');","line":45,"column":46,"nodeType":null,"endLine":52,"endColumn":4}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useRef } from 'react';\r\nimport { HUD } from './components/ui/HUD';\r\nimport { StartScreen } from './components/screens/StartScreen';\r\nimport { GameOverScreen } from './components/screens/GameOverScreen';\r\nimport { PauseScreen } from './components/screens/PauseScreen';\r\nimport { ShopScreen } from './components/screens/ShopScreen';\r\nimport { IntroScreen } from './components/screens/IntroScreen';\r\nimport { AchievementsScreen } from './components/screens/AchievementsScreen';\r\nimport { DailyRewardsPopup } from './components/screens/DailyRewardsPopup';\r\nimport { PilotSelectScreen } from './components/screens/PilotSelectScreen';\r\nimport { gameEngine, GameEngine } from './game/core/GameEngine';\r\nimport { persistence, Persistence } from './game/systems/Persistence';\r\nimport { audioSystem, AudioSystem } from './game/systems/AudioSystem';\r\nimport { canClaimDailyReward } from './game/config/DailyRewardsConfig';\r\nimport { CanvasView } from './views/CanvasView';\r\nimport { ParticleContainer } from './components/containers/ParticleContainer';\r\nimport { PlayerContainer } from './components/containers/PlayerContainer';\r\nimport { Icons } from './components/ui/Icons';\r\nimport { DialogueDisplay } from './components/ui/DialogueDisplay';\r\n\r\nimport './styles/index.css';\r\n\r\n// Extend Window interface for game globals\r\ndeclare global {\r\n  interface Window {\r\n    gameEngine: GameEngine;\r\n    persistence: Persistence;\r\n    audioSystem: AudioSystem;\r\n  }\r\n}\r\n\r\ntype GameStateType = 'INTRO' | 'START' | 'PLAYING' | 'PAUSED' | 'GAMEOVER' | 'VICTORY' | 'SHOP' | 'ACHIEVEMENTS' | 'PILOTS';\r\n\r\nfunction App() {\r\n  const [gameState, setGameState] = useState<GameStateType>('START');\r\n  const [hudState, setHudState] = useState({\r\n    lives: 3,\r\n    shields: 0,\r\n    wave: 1,\r\n    weapon: 'BLASTER',\r\n    showWave: false\r\n  });\r\n  const [levelText, setLevelText] = useState({ show: false, wave: 1, sub: '', hint: '', isBoss: false });\r\n  const initializedRef = useRef(false);\r\n  const [highScore, setHighScore] = useState(() => {\r\n    // Load persistence synchronously during initial render\r\n    if (!initializedRef.current) {\r\n      persistence.load();\r\n      initializedRef.current = true;\r\n    }\r\n    return persistence.profile.highScore;\r\n  });\r\n  const [isNewHighScore, setIsNewHighScore] = useState(false);\r\n  const [showDailyRewards, setShowDailyRewards] = useState(false);\r\n  const [previousState, setPreviousState] = useState<GameStateType>('START');\r\n  const [preShopTrack, setPreShopTrack] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    // Show intro on first play\r\n    if (!persistence.profile.hasSeenIntro) {\r\n      setGameState('INTRO');\r\n    }\r\n\r\n    // Check for daily rewards\r\n    if (canClaimDailyReward(persistence.profile.dailyRewards)) {\r\n      setTimeout(() => setShowDailyRewards(true), 500);\r\n    }\r\n  }, []);\r\n\r\n  const handleIntroComplete = () => {\r\n    setGameState('START');\r\n    audioSystem.playMusic('load');\r\n  };\r\n\r\n  const handleStart = () => {\r\n    setGameState('PLAYING');\r\n    gameEngine.startGame();\r\n    audioSystem.playMusic('wave');\r\n  };\r\n\r\n  const handlePause = () => {\r\n    gameEngine.togglePause();\r\n  };\r\n\r\n  const handleOpenShop = () => {\r\n    setPreviousState(gameState);\r\n    setPreShopTrack(audioSystem.lastTrackName);\r\n    setGameState('SHOP');\r\n  };\r\n\r\n  const handleCloseShop = () => {\r\n    if (previousState === 'PAUSED') {\r\n      setGameState('PAUSED');\r\n      if (preShopTrack) audioSystem.playMusic(preShopTrack);\r\n    } else {\r\n      setGameState('START');\r\n      audioSystem.playMusic('load');\r\n    }\r\n  };\r\n\r\n  const handleOpenAchievements = () => {\r\n    setPreviousState(gameState);\r\n    setGameState('ACHIEVEMENTS');\r\n  };\r\n\r\n  const handleCloseAchievements = () => {\r\n    setGameState(previousState);\r\n  };\r\n\r\n  const handleOpenPilots = () => {\r\n    setPreviousState(gameState);\r\n    setGameState('PILOTS');\r\n  };\r\n\r\n  const handleClosePilots = () => {\r\n    setGameState(previousState);\r\n  };\r\n\r\n  const handlePilotSelect = () => {\r\n    setGameState(previousState);\r\n  };\r\n\r\n  const handleDailyRewardClaim = () => {\r\n    // Could show a nice animation here\r\n  };\r\n\r\n  const handleCanvasReady = (canvas: HTMLCanvasElement) => {\r\n    window.gameEngine = gameEngine;\r\n    window.persistence = persistence;\r\n    window.audioSystem = audioSystem;\r\n\r\n    gameEngine.init(canvas, {\r\n      onScoreUpdate: () => { /* No-op */ },\r\n      onWaveUpdate: (wave, sub, hint, boss) => {\r\n        const isTutorial = sub === \"TUTORIAL\";\r\n        setHudState(prev => ({ ...prev, wave, showWave: !isTutorial }));\r\n        if (!isTutorial) {\r\n          setLevelText({ show: true, wave, sub, hint, isBoss: boss });\r\n          setTimeout(() => setLevelText(prev => ({ ...prev, show: false })), 3000);\r\n        }\r\n      },\r\n      onLivesUpdate: (lives, shields) => setHudState(prev => ({ ...prev, lives, shields })),\r\n      onWeaponUpdate: (weapon) => setHudState(prev => ({ ...prev, weapon })),\r\n      onComboUpdate: () => { /* No-op */ },\r\n      onGameOver: (_, hs, newHigh) => {\r\n        setGameState('GAMEOVER');\r\n        setHighScore(hs);\r\n        setIsNewHighScore(newHigh);\r\n        persistence.trackStat('totalGamesPlayed', 1);\r\n      },\r\n      onVictory: (score, hs) => {\r\n        setGameState('VICTORY');\r\n        setHighScore(hs);\r\n        setIsNewHighScore(score > hs);\r\n        persistence.trackStat('totalGamesPlayed', 1);\r\n      },\r\n      onGameStart: () => setGameState('PLAYING'),\r\n      onPause: (isPaused) => setGameState(isPaused ? 'PAUSED' : 'PLAYING')\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"app-container\" style={{ width: '100vw', height: '100vh', overflow: 'hidden', position: 'relative', background: '#050505' }}>\r\n      <Icons />\r\n      <PlayerContainer />\r\n      <ParticleContainer />\r\n      <CanvasView onCanvasReady={handleCanvasReady} />\r\n\r\n      {gameState === 'INTRO' && (\r\n        <IntroScreen onComplete={handleIntroComplete} onSkip={handleIntroComplete} />\r\n      )}\r\n\r\n      {gameState === 'PLAYING' && (\r\n        <HUD\r\n          lives={hudState.lives}\r\n          shields={hudState.shields}\r\n          wave={hudState.wave}\r\n          weapon={hudState.weapon}\r\n          shards={persistence.profile.shards}\r\n          onPause={handlePause}\r\n          showWave={hudState.showWave}\r\n        />\r\n      )}\r\n\r\n      {gameState === 'START' && (\r\n        <StartScreen\r\n          onStart={handleStart}\r\n          onOpenShop={handleOpenShop}\r\n          onOpenAchievements={handleOpenAchievements}\r\n          onOpenPilots={handleOpenPilots}\r\n          highScore={highScore}\r\n        />\r\n      )}\r\n\r\n      {(gameState === 'GAMEOVER' || gameState === 'VICTORY') && (\r\n        <GameOverScreen\r\n          score={gameEngine.score}\r\n          highScore={highScore}\r\n          isNewHighScore={isNewHighScore}\r\n          isVictory={gameState === 'VICTORY'}\r\n          onRestart={handleStart}\r\n          onOpenShop={handleOpenShop}\r\n        />\r\n      )}\r\n\r\n      {gameState === 'PAUSED' && (\r\n        <PauseScreen onResume={handlePause} onOpenShop={handleOpenShop} />\r\n      )}\r\n\r\n      {gameState === 'SHOP' && <ShopScreen onClose={handleCloseShop} />}\r\n\r\n      {gameState === 'ACHIEVEMENTS' && (\r\n        <AchievementsScreen onClose={handleCloseAchievements} />\r\n      )}\r\n\r\n      {gameState === 'PILOTS' && (\r\n        <PilotSelectScreen onClose={handleClosePilots} onSelect={handlePilotSelect} />\r\n      )}\r\n\r\n      {showDailyRewards && (\r\n        <DailyRewardsPopup\r\n          onClose={() => setShowDailyRewards(false)}\r\n          onClaim={handleDailyRewardClaim}\r\n        />\r\n      )}\r\n\r\n      {/* Pilot Dialogue Display */}\r\n      <DialogueDisplay />\r\n\r\n      {/* Tutorial Layer */}\r\n      <div id=\"tutorial-layer\"></div>\r\n\r\n      {/* Level Overlay */}\r\n      <div id=\"level-screen\" className={`${levelText.show ? 'show-level' : ''} ${levelText.isBoss ? 'boss-alert-bg' : ''}`}>\r\n        <div id=\"level-title\" className=\"cyan-glow\" style={{ color: levelText.isBoss ? '#f00' : '#0ff' }}>\r\n          {levelText.isBoss ? 'WARNING' : `WAVE ${levelText.wave}`}\r\n        </div>\r\n        <div id=\"level-sub\" style={{ fontSize: '20px', color: '#fff', marginTop: '10px', textTransform: 'uppercase', letterSpacing: '2px' }}>\r\n          {levelText.sub}\r\n        </div>\r\n        <div id=\"level-hint\" style={{ fontSize: '14px', color: '#aaa', marginTop: '20px', fontStyle: 'italic' }}>\r\n          {levelText.hint}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\bridges\\WebTransportBridge.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":18,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[596,599],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[596,599],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":23,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[672,675],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[672,675],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":24,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[720,723],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[720,723],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\components\\GameCanvas.tsx","messages":[{"ruleId":"react-hooks/refs","severity":2,"message":"Error: Cannot access refs during render\n\nReact refs are values that are not needed for rendering. Refs should only be accessed outside of render, such as in event handlers or effects. Accessing a ref value (the `current` property) during render can cause your component not to update as expected (https://react.dev/reference/react/useRef).\n\nC:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\components\\GameCanvas.tsx:19:5\n  17 |     // Store callbacks in refs to avoid re-initializing game engine on callback changes\n  18 |     const callbacksRef = useRef(props);\n> 19 |     callbacksRef.current = props;\n     |     ^^^^^^^^^^^^^^^^^^^^ Cannot update ref during render\n  20 |\n  21 |     useEffect(() => {\n  22 |         if (canvasRef.current) {","line":19,"column":5,"nodeType":null,"endLine":19,"endColumn":25}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useRef } from 'react';\r\nimport { gameEngine } from '../game/core/GameEngine';\r\n\r\ninterface GameCanvasProps {\r\n    onScoreUpdate: (score: number) => void;\r\n    onWaveUpdate: (wave: number, subText: string, hintText: string, isBoss: boolean) => void;\r\n    onLivesUpdate: (lives: number, shields: number) => void;\r\n    onWeaponUpdate: (weapon: string) => void;\r\n    onComboUpdate: (combo: number, val: number) => void;\r\n    onGameOver: (score: number, highScore: number) => void;\r\n    onGameStart: () => void;\r\n    onPause: (isPaused: boolean) => void;\r\n}\r\n\r\nexport const GameCanvas: React.FC<GameCanvasProps> = (props) => {\r\n    const canvasRef = useRef<HTMLCanvasElement>(null);\r\n    // Store callbacks in refs to avoid re-initializing game engine on callback changes\r\n    const callbacksRef = useRef(props);\r\n    callbacksRef.current = props;\r\n\r\n    useEffect(() => {\r\n        if (canvasRef.current) {\r\n            gameEngine.init(canvasRef.current, {\r\n                onScoreUpdate: (score) => callbacksRef.current.onScoreUpdate(score),\r\n                onWaveUpdate: (wave, subText, hintText, isBoss) => callbacksRef.current.onWaveUpdate(wave, subText, hintText, isBoss),\r\n                onLivesUpdate: (lives, shields) => callbacksRef.current.onLivesUpdate(lives, shields),\r\n                onWeaponUpdate: (weapon) => callbacksRef.current.onWeaponUpdate(weapon),\r\n                onComboUpdate: (combo, val) => callbacksRef.current.onComboUpdate(combo, val),\r\n                onGameOver: (score, highScore) => callbacksRef.current.onGameOver(score, highScore),\r\n                onGameStart: () => callbacksRef.current.onGameStart(),\r\n                onPause: (isPaused) => callbacksRef.current.onPause(isPaused)\r\n            });\r\n        }\r\n    }, []);\r\n\r\n    return <canvas ref={canvasRef} id=\"gameCanvas\" style={{ display: 'block' }} />;\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\components\\containers\\ParticleContainer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\components\\containers\\PlayerContainer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\components\\screens\\AchievementsScreen.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\components\\screens\\DailyRewardsPopup.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\components\\screens\\GameOverScreen.tsx","messages":[{"ruleId":"react-hooks/purity","severity":2,"message":"Error: Cannot call impure function during render\n\n`Math.random` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).\n\nC:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\components\\screens\\GameOverScreen.tsx:44:27\n  42 |     // Capture random indices once on mount to avoid impure calls during render\n  43 |     const messageIndexRef = useRef({\n> 44 |         funny: Math.floor(Math.random() * FUNNY_MESSAGES.length),\n     |                           ^^^^^^^^^^^^^ Cannot call impure function\n  45 |         victory: Math.floor(Math.random() * VICTORY_MESSAGES.length)\n  46 |     });\n  47 |","line":44,"column":27,"nodeType":null,"endLine":44,"endColumn":40},{"ruleId":"react-hooks/purity","severity":2,"message":"Error: Cannot call impure function during render\n\n`Math.random` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).\n\nC:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\components\\screens\\GameOverScreen.tsx:45:29\n  43 |     const messageIndexRef = useRef({\n  44 |         funny: Math.floor(Math.random() * FUNNY_MESSAGES.length),\n> 45 |         victory: Math.floor(Math.random() * VICTORY_MESSAGES.length)\n     |                             ^^^^^^^^^^^^^ Cannot call impure function\n  46 |     });\n  47 |\n  48 |     const randomMessage = isVictory","line":45,"column":29,"nodeType":null,"endLine":45,"endColumn":42}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useRef } from 'react';\r\nimport { CURRENCY } from '../../game/config/CurrencyConfig';\r\n\r\ninterface GameOverScreenProps {\r\n    score: number;\r\n    highScore: number;\r\n    isNewHighScore?: boolean;\r\n    isVictory?: boolean;\r\n    onRestart: () => void;\r\n    onOpenShop: () => void;\r\n}\r\n\r\nconst FUNNY_MESSAGES = [\r\n    \"GAME OVER MAN, GAME OVER\",\r\n    \"MISSION FAILED SUCCESSFULLY\",\r\n    \"ASTEROID HUGGED YOU\",\r\n    \"SPACESHIP NEEDS A NAP\",\r\n    \"OUT OF FUEL (AND LUCK)\",\r\n    \"BETTER LUCK NEXT ORBIT\",\r\n    \"YOU BECAME STARDUST\",\r\n    \"NICE TRY, CAPTAIN!\",\r\n    \"R.I.P. (REST IN PLASMA)\",\r\n    \"DID YOU FORGET TO DASH?\"\r\n];\r\n\r\nconst VICTORY_MESSAGES = [\r\n    \"MOTHERSHIP DESTROYED!\",\r\n    \"HUMANITY IS SAVED!\",\r\n    \"YOU ARE A LEGEND!\",\r\n    \"THE COLLECTIVE FALLS!\",\r\n    \"GALAXY DEFENDER!\"\r\n];\r\n\r\nexport const GameOverScreen: React.FC<GameOverScreenProps> = ({\r\n    score,\r\n    highScore,\r\n    isNewHighScore,\r\n    isVictory,\r\n    onRestart,\r\n    onOpenShop\r\n}) => {\r\n    // Capture random indices once on mount to avoid impure calls during render\r\n    const messageIndexRef = useRef({\r\n        funny: Math.floor(Math.random() * FUNNY_MESSAGES.length),\r\n        victory: Math.floor(Math.random() * VICTORY_MESSAGES.length)\r\n    });\r\n\r\n    const randomMessage = isVictory\r\n        ? VICTORY_MESSAGES[messageIndexRef.current.victory]\r\n        : FUNNY_MESSAGES[messageIndexRef.current.funny];\r\n\r\n    return (\r\n        <div id=\"game-over-screen\" style={{\r\n            background: isVictory\r\n                ? 'linear-gradient(135deg, rgba(0,50,0,0.95) 0%, rgba(0,0,0,0.98) 100%)'\r\n                : undefined\r\n        }}>\r\n            {isVictory && (\r\n                <div style={{\r\n                    position: 'absolute',\r\n                    top: 0,\r\n                    left: 0,\r\n                    right: 0,\r\n                    bottom: 0,\r\n                    background: 'radial-gradient(circle at 50% 30%, rgba(255,215,0,0.1) 0%, transparent 50%)',\r\n                    pointerEvents: 'none'\r\n                }} />\r\n            )}\r\n\r\n            <h1\r\n                className=\"neon-header\"\r\n                style={{\r\n                    color: isVictory ? '#ffd700' : '#0ff',\r\n                    textShadow: isVictory\r\n                        ? '0 0 30px #ffd700, 0 0 60px #ff0'\r\n                        : '0 0 20px #0ff'\r\n                }}\r\n            >\r\n                {randomMessage}\r\n            </h1>\r\n\r\n            {isVictory && (\r\n                <div style={{\r\n                    fontSize: '80px',\r\n                    margin: '20px 0',\r\n                    animation: 'victoryPulse 1s infinite'\r\n                }}>\r\n                    ≡ƒÅå\r\n                </div>\r\n            )}\r\n\r\n            <p id=\"final-score\" style={{\r\n                fontSize: '20px',\r\n                color: '#fff',\r\n                lineHeight: 1.6,\r\n                marginBottom: '30px'\r\n            }}>\r\n                Score: {score}<br />High Score: {highScore}\r\n            </p>\r\n\r\n            {isVictory && (\r\n                <div style={{\r\n                    color: '#0f0',\r\n                    fontSize: '16px',\r\n                    marginBottom: '20px',\r\n                    padding: '10px 20px',\r\n                    background: 'rgba(0,255,0,0.1)',\r\n                    borderRadius: '8px',\r\n                    border: '1px solid rgba(0,255,0,0.3)'\r\n                }}>\r\n                    ≡ƒÄë +500 {CURRENCY.symbol} Bonus Awarded!\r\n                </div>\r\n            )}\r\n\r\n            {isNewHighScore && (\r\n                <div className=\"blink\" style={{\r\n                    color: '#ff0',\r\n                    fontSize: '24px',\r\n                    fontWeight: 'bold',\r\n                    marginBottom: '20px',\r\n                    textShadow: '0 0 10px #ff0'\r\n                }}>\r\n                    NEW HIGH SCORE!\r\n                </div>\r\n            )}\r\n\r\n            <div\r\n                id=\"restart-btn\"\r\n                className=\"tap-text blink\"\r\n                style={{ color: isVictory ? '#ffd700' : '#0ff', fontSize: '20px', cursor: 'pointer' }}\r\n                onClick={onRestart}\r\n            >\r\n                {isVictory ? 'PLAY AGAIN' : 'TAP TO RESTART'}\r\n            </div>\r\n\r\n            <div\r\n                id=\"home-btn\"\r\n                className=\"spend-btn\"\r\n                style={{ marginTop: '20px' }}\r\n                onClick={onOpenShop}\r\n            >\r\n                SPEND MY SHARDS\r\n            </div>\r\n\r\n            <style>{`\r\n                @keyframes victoryPulse {\r\n                    0%, 100% { transform: scale(1); }\r\n                    50% { transform: scale(1.1); }\r\n                }\r\n            `}</style>\r\n        </div>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\components\\screens\\IntroScreen.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\components\\screens\\PauseScreen.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\components\\screens\\PilotSelectScreen.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\components\\screens\\ShopScreen.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\components\\screens\\StartScreen.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\components\\ui\\DialogueDisplay.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":2,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":162,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":162,"endColumn":34,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\components\\ui\\HUD.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\components\\ui\\Icons.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\game\\config\\AchievementConfig.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\game\\config\\BossConfig.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\game\\config\\CurrencyConfig.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\game\\config\\DailyRewardsConfig.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\game\\config\\PilotConfig.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\game\\config\\PilotDialogueConfig.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\game\\config\\ShopConfig.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\game\\config\\StoryConfig.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\game\\core\\GameEngine.ts","messages":[{"ruleId":null,"message":"Unused eslint-disable directive (no problems were reported from '@typescript-eslint/no-explicit-any').","line":64,"column":5,"severity":1,"nodeType":null,"fix":{"range":[2673,2735],"text":" "}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import { audioSystem } from '../systems/AudioSystem';\r\nimport { spriteCache } from '../systems/SpriteCache';\r\nimport { persistence } from '../systems/Persistence';\r\nimport { inputSystem } from '../systems/InputSystem';\r\nimport { tutorialSystem } from '../systems/TutorialSystem';\r\nimport { assistPilot } from '../systems/AssistPilot';\r\nimport { showPilotDialogue } from '../../components/ui/DialogueDisplay';\r\nimport { getDialogue } from '../config/PilotDialogueConfig';\r\nimport { PILOT_CLASSES, type PilotId } from '../config/PilotConfig';\r\nimport { Pool } from './Pool';\r\nimport { SpatialGrid } from './SpatialGrid';\r\nimport { Ship } from '../entities/Ship';\r\nimport { Asteroid } from '../entities/Asteroid';\r\nimport { Bullet } from '../entities/Bullet';\r\nimport { Particle } from '../entities/Particle';\r\nimport { FloatingText } from '../entities/FloatingText';\r\nimport { PowerUp } from '../entities/PowerUp';\r\nimport { Boss } from '../entities/Boss';\r\nimport { SKIN_CONFIG } from '../config/ShopConfig';\r\nimport { getBossForWave, MAX_WAVES } from '../config/BossConfig';\r\n\r\nexport type GameState = 'START' | 'PLAYING' | 'PAUSED' | 'GAMEOVER' | 'VICTORY';\r\n\r\ninterface UICallbacks {\r\n    onScoreUpdate: (score: number) => void;\r\n    onWaveUpdate: (wave: number, subText: string, hintText: string, isBoss: boolean) => void;\r\n    onLivesUpdate: (lives: number, shields: number) => void;\r\n    onWeaponUpdate: (weapon: string) => void;\r\n    onComboUpdate: (combo: number, val: number) => void;\r\n    onGameOver: (score: number, highScore: number, isNewHighScore: boolean) => void;\r\n    onVictory?: (score: number, highScore: number) => void;\r\n    onGameStart: () => void;\r\n    onPause: (isPaused: boolean) => void;\r\n}\r\n\r\nexport class GameEngine {\r\n    public canvas: HTMLCanvasElement | null = null;\r\n    public ctx: CanvasRenderingContext2D | null = null;\r\n    public ship: Ship | null = null;\r\n    public boss: Boss | null = null;\r\n    public bullets: Bullet[] = [];\r\n    public asteroids: Asteroid[] = [];\r\n    public particles: Particle[] = [];\r\n    public floatingTexts: FloatingText[] = [];\r\n    public powerups: PowerUp[] = [];\r\n    public score: number = 0;\r\n    public gameState: GameState = 'START';\r\n    public tutorialSystem = tutorialSystem;\r\n\r\n    public lives: number = 3;\r\n    public wave: number = 1;\r\n    public combo: number = 1;\r\n    public comboTimer: number = 0;\r\n\r\n    private lastTime: number = 0;\r\n\r\n    private interestTimer: number = 0;\r\n    private regenTimer: number = 0;\r\n    private hasRevived: boolean = false;\r\n\r\n    private bulletPool: Pool<Bullet>;\r\n    private particlePool: Pool<Particle>;\r\n    private textPool: Pool<FloatingText>;\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    private spatialGrid: SpatialGrid<{ x: number; y: number; radius: number; ref: Asteroid }>; // Wrapper for grid queries\r\n\r\n    private uiCallbacks: UICallbacks | null = null;\r\n\r\n    // Funny texts\r\n    private funnyWaveIntros = [\"INITIALIZING SYSTEMS...\", \"HYPERSPACE ENGAGED\", \"ASTEROID FIELD AHEAD\", \"DON'T BLINK\", \"STAY SHARP PILOT\", \"MORE ROCKS? REALLY?\", \"CLEAN UP ON AISLE 5\", \"THEY SEE ME ROLLIN'\", \"WATCH YOUR SIX\", \"INCOMING SPACE TRASH\", \"PIZZA DELIVERY IS LATE\"];\r\n    private funnyBossIntros = [\"WARNING: DREADNOUGHT DETECTED\", \"BOSS APPROACHING\", \"WARNING: BIG SHIP ENERGY\", \"OH NO, IT'S THE MANAGER\", \"GIANT ENEMY CRAB... WAIT\", \"PREPARE FOR TROUBLE\", \"LEVEL 9000 BOSS DETECTED\", \"IT'S BOSS O'CLOCK\"];\r\n    private hints = [\"Tip: Use SHIFT to DASH.\", \"Tip: Heavy ammo pierces.\", \"Tip: Upgrades are permanent.\", \"Tip: Nukes clear screen.\", \"Tip: Collect SHARDS.\", \"Tip: Kill fast for combos.\"];\r\n\r\n    constructor() {\r\n        this.bulletPool = new Pool(() => new Bullet(), (b, x, y, a, t, d, p, s, h) => b.init(x, y, a, t, d, p, s, h));\r\n        this.particlePool = new Pool(() => new Particle(), (p, x, y, c) => p.init(x, y, c));\r\n        this.textPool = new Pool(() => new FloatingText(), (t, x, y, txt, c) => t.init(x, y, txt, c));\r\n        // Initialize with a reasonable cell size (e.g., 100px)\r\n        this.spatialGrid = new SpatialGrid(2000, 2000, 100);\r\n    }\r\n\r\n    public init(canvas: HTMLCanvasElement, callbacks: UICallbacks) {\r\n        this.canvas = canvas;\r\n        this.ctx = canvas.getContext('2d');\r\n        this.uiCallbacks = callbacks;\r\n\r\n        spriteCache.init();\r\n        audioSystem.init();\r\n        persistence.load();\r\n        tutorialSystem.init();\r\n\r\n        // Listen for profile updates (e.g. skin change)\r\n        window.addEventListener('profile-updated', ((e: CustomEvent<{ equippedSkin?: string }>) => {\r\n            if (this.ship && e.detail && e.detail.equippedSkin) {\r\n                const skinData = SKIN_CONFIG[e.detail.equippedSkin];\r\n                if (skinData) {\r\n                    this.ship.skin = skinData;\r\n                }\r\n            }\r\n        }) as EventListener);\r\n\r\n        // Input callbacks\r\n        inputSystem.setCallbacks({\r\n            onPause: () => this.togglePause(),\r\n            onDash: () => {\r\n                if (this.ship) this.ship.dash();\r\n            },\r\n            onSwap: () => {\r\n                if (this.ship && this.gameState === 'PLAYING') {\r\n                    this.ship.switchWeapon({\r\n                        spawnBullet: this.spawnBullet.bind(this),\r\n                        spawnParticle: this.spawnParticle.bind(this),\r\n                        spawnText: this.spawnText.bind(this),\r\n                        updateWeaponUI: (t) => this.uiCallbacks?.onWeaponUpdate(t),\r\n                        updateHUD: this.updateHUD.bind(this),\r\n                        gameOver: this.gameOver.bind(this)\r\n                    });\r\n                    if (tutorialSystem.active) tutorialSystem.checkSwap();\r\n                }\r\n            }\r\n        });\r\n\r\n        inputSystem.attachTouchListeners(canvas);\r\n\r\n        this.resize();\r\n        window.addEventListener('resize', () => this.resize());\r\n\r\n        // Start loop\r\n        this.lastTime = 0;\r\n        this.loop(0);\r\n    }\r\n\r\n    private resize() {\r\n        if (this.canvas) {\r\n            this.canvas.width = window.innerWidth;\r\n            this.canvas.height = window.innerHeight;\r\n        }\r\n    }\r\n\r\n    public startGame() {\r\n        if (!this.canvas) return;\r\n\r\n        this.score = 0;\r\n        if ((persistence.profile.upgrades.start || 0) > 0) {\r\n            this.wave = 4;\r\n            this.score = 1000;\r\n            persistence.addShards(50);\r\n        } else {\r\n            this.wave = 1;\r\n        }\r\n\r\n        // CRITICAL: Set gameState to 'PLAYING' so the game loop runs!\r\n        this.gameState = 'PLAYING';\r\n\r\n        this.ship = new Ship(this.bulletPool);\r\n\r\n        // Apply current skin\r\n        const skinKey = persistence.profile.equippedSkin || 'default';\r\n        const skinData = SKIN_CONFIG[skinKey];\r\n        if (skinData) this.ship.skin = skinData;\r\n\r\n        this.lives = this.ship.maxLives;\r\n        this.hasRevived = false;\r\n\r\n        this.bullets = [];\r\n        this.asteroids = [];\r\n        this.particles = [];\r\n        if (this.wave === 1) {\r\n            // Reset ship with no invincibility for tutorial so it's always visible\r\n            this.ship.reset(this.canvas.width, this.canvas.height, 0);\r\n            tutorialSystem.start();\r\n            this.uiCallbacks?.onWaveUpdate(1, \"TUTORIAL\", \"Follow instructions\", false);\r\n            // Tutorial system will spawn asteroid when needed (at shoot step)\r\n        } else {\r\n            // Reset ship with normal invincibility\r\n            this.ship.reset(this.canvas.width, this.canvas.height);\r\n            this.spawnWave();\r\n        }\r\n    }\r\n\r\n    public togglePause() {\r\n        if (this.gameState === 'PLAYING') {\r\n            this.gameState = 'PAUSED';\r\n            audioSystem.pauseMusic();\r\n            if (tutorialSystem.active) tutorialSystem.checkPause();\r\n            this.uiCallbacks?.onPause(true);\r\n        } else if (this.gameState === 'PAUSED') {\r\n            this.gameState = 'PLAYING';\r\n            audioSystem.resumeMusic();\r\n            this.lastTime = 0; // Reset delta\r\n            this.uiCallbacks?.onPause(false);\r\n        }\r\n    }\r\n\r\n    public spawnTutorialAsteroid(x: number, y: number) {\r\n        if (!this.canvas) return;\r\n        const asteroid = new Asteroid(x, y, 'large', this.canvas.width, this.canvas.height);\r\n        asteroid.vx = 0;\r\n        asteroid.vy = 0;\r\n        this.asteroids.push(asteroid);\r\n    }\r\n\r\n    public spawnWave() {\r\n        if (!this.canvas) return;\r\n\r\n        // Check if this is a boss wave using the config\r\n        const bossConfig = getBossForWave(this.wave);\r\n        const isBossWaveNow = bossConfig !== undefined;\r\n\r\n        // Calculate asteroid count (no asteroids on boss waves)\r\n        let count = 3 + Math.floor(this.wave * 0.8);\r\n        count = Math.min(count, 15);\r\n        if (this.wave <= 2) count = this.wave;\r\n        else if (isBossWaveNow) count = 0;\r\n\r\n        Asteroid.currentWave = this.wave;\r\n        this.asteroids = [];\r\n        for (let i = 0; i < count; i++) {\r\n            this.asteroids.push(new Asteroid(undefined, undefined, 'large', this.canvas.width, this.canvas.height));\r\n        }\r\n\r\n        // Generate wave text\r\n        let subText: string;\r\n        let hintText: string;\r\n\r\n        if (bossConfig) {\r\n            // Boss wave - show boss name\r\n            subText = bossConfig.isFinalBoss\r\n                ? `FINAL BOSS: ${bossConfig.name}`\r\n                : `BOSS: ${bossConfig.name}`;\r\n            hintText = bossConfig.isFinalBoss\r\n                ? \"DEFEAT THE MOTHERSHIP!\"\r\n                : this.funnyBossIntros[Math.floor(Math.random() * this.funnyBossIntros.length)];\r\n        } else {\r\n            subText = this.funnyWaveIntros[Math.floor(Math.random() * this.funnyWaveIntros.length)];\r\n            hintText = this.wave === 1 ? \"Tip: Kill fast to build COMBO multiplier!\" : this.hints[Math.floor(Math.random() * this.hints.length)];\r\n        }\r\n\r\n        // Spawn boss if this is a boss wave\r\n        if (bossConfig) {\r\n            this.boss = new Boss(bossConfig, this.wave, this.canvas.width);\r\n            audioSystem.playAlarm();\r\n            audioSystem.playMusic('boss');\r\n\r\n            // Trigger assist pilot on wave 3 (first boss) automatically\r\n            if (this.wave === 3) {\r\n                const playerPilotId = (persistence.profile.selectedPilot || 'striker') as PilotId;\r\n                this.activateAssistPilot(playerPilotId);\r\n            }\r\n        } else {\r\n            this.boss = null;\r\n            audioSystem.playMusic('wave');\r\n        }\r\n\r\n        // Show player pilot wave start dialogue\r\n        const playerPilotId = (persistence.profile.selectedPilot || 'striker') as PilotId;\r\n        const pilot = PILOT_CLASSES[playerPilotId];\r\n        if (pilot) {\r\n            const eventType = bossConfig ? 'bossAlert' : 'waveStart';\r\n            const dialogue = getDialogue(playerPilotId, eventType);\r\n            setTimeout(() => {\r\n                showPilotDialogue(playerPilotId, dialogue, pilot.name, pilot.icon, pilot.color);\r\n            }, 1500);  // Slight delay so it doesn't overlap with wave announcement\r\n        }\r\n\r\n        this.uiCallbacks?.onWaveUpdate(this.wave, subText, hintText, isBossWaveNow);\r\n    }\r\n\r\n    // Activate assist pilot\r\n    private activateAssistPilot(playerPilotId: PilotId) {\r\n        if (!this.canvas || !this.ship) return;\r\n\r\n        assistPilot.activate(\r\n            playerPilotId,\r\n            this.canvas.width,\r\n            this.canvas.height,\r\n            {\r\n                onDialogue: (pilotId, text, pilotName, icon, color) => {\r\n                    showPilotDialogue(pilotId, text, pilotName, icon, color);\r\n                },\r\n                onAssistStart: () => {\r\n                    // Could trigger UI update\r\n                },\r\n                onAssistEnd: () => {\r\n                    // Assist ended\r\n                },\r\n                spawnBullet: (x, y, angle, type, damage) => {\r\n                    const b = this.bulletPool.get(x, y, angle, type, damage, 1, 2, false);\r\n                    this.bullets.push(b);\r\n                }\r\n            },\r\n            15  // 15 second duration\r\n        );\r\n    }\r\n\r\n    private loop(timestamp: number) {\r\n        requestAnimationFrame(this.loop.bind(this));\r\n\r\n        if (this.gameState !== 'PLAYING') return;\r\n        if (!this.lastTime) this.lastTime = timestamp;\r\n        const dt = Math.min((timestamp - this.lastTime) / 1000, 0.1);\r\n        this.lastTime = timestamp;\r\n\r\n        this.update(dt);\r\n        this.draw();\r\n    }\r\n\r\n    private update(dt: number) {\r\n        if (!this.canvas || !this.ship) return;\r\n\r\n        // Regen\r\n        if ((persistence.profile.upgrades.regen || 0) > 0 && this.lives < this.ship.maxLives) {\r\n            this.regenTimer += dt;\r\n            if (this.regenTimer > 15) {\r\n                this.lives++;\r\n                this.regenTimer = 0;\r\n                this.updateHUD();\r\n                this.spawnText(this.ship.x, this.ship.y - 20, \"REPAIR\", \"#0f0\");\r\n            }\r\n        }\r\n\r\n        // Interest\r\n        if ((persistence.profile.upgrades.interest || 0) > 0) {\r\n            this.interestTimer += dt;\r\n            if (this.interestTimer > 5) {\r\n                const income = persistence.profile.upgrades.interest * 2;\r\n                persistence.addShards(income);\r\n                this.interestTimer = 0;\r\n                this.spawnText(this.ship.x, this.ship.y + 20, `+${income}`, \"#0f0\");\r\n            }\r\n        }\r\n\r\n        // Combo\r\n        if (this.combo > 1) {\r\n            this.comboTimer -= dt;\r\n            const maxTime = 2.5 + ((persistence.profile.upgrades.combo || 0) * 0.5);\r\n            this.uiCallbacks?.onComboUpdate(this.combo, this.comboTimer / maxTime);\r\n            if (this.comboTimer <= 0) {\r\n                this.combo = 1;\r\n                this.updateHUD();\r\n            }\r\n        }\r\n\r\n        // Assist Pilot update\r\n        if (assistPilot.active) {\r\n            const enemyPositions = [\r\n                ...this.asteroids.map(a => ({ x: a.x, y: a.y })),\r\n                ...(this.boss ? [{ x: this.boss.x, y: this.boss.y }] : [])\r\n            ];\r\n            assistPilot.update(\r\n                dt,\r\n                this.ship.x,\r\n                this.ship.y,\r\n                this.canvas.width,\r\n                this.canvas.height,\r\n                enemyPositions\r\n            );\r\n        }\r\n\r\n        // Entities\r\n        this.ship.update(dt, inputSystem.keys, inputSystem.touchSticks, this.canvas.width, this.canvas.height, {\r\n            spawnBullet: this.spawnBullet.bind(this),\r\n            spawnParticle: this.spawnParticle.bind(this),\r\n            spawnText: this.spawnText.bind(this),\r\n            updateWeaponUI: (t) => this.uiCallbacks?.onWeaponUpdate(t),\r\n            updateHUD: this.updateHUD.bind(this),\r\n            gameOver: this.gameOver.bind(this)\r\n        }, this.combo);\r\n\r\n        if (tutorialSystem.active) {\r\n            tutorialSystem.checkMove(this.ship.x, this.ship.y);\r\n            tutorialSystem.checkRotate(this.ship.angle);\r\n        }\r\n\r\n        for (let i = this.bullets.length - 1; i >= 0; i--) {\r\n            const b = this.bullets[i];\r\n            b.update(dt, this.asteroids);\r\n            if (!b.active || b.x < 0 || b.x > this.canvas.width || b.y < 0 || b.y > this.canvas.height) {\r\n                this.bulletPool.release(b);\r\n                // Swap and Pop\r\n                this.bullets[i] = this.bullets[this.bullets.length - 1];\r\n                this.bullets.pop();\r\n                // Since we iterate backwards, we don't need to decrement i?\r\n                // Wait, if we swap the last element to position i, we have already processed the last element (since we go backwards).\r\n                // So the swapped element HAS been processed.\r\n                // So we don't need to re-process it.\r\n                // Correct.\r\n                continue;\r\n            }\r\n        }\r\n\r\n        if (this.boss && !this.boss.dead) {\r\n            this.boss.update(dt, {\r\n                spawnBullet: (x, y, a, t, d) => {\r\n                    const b = this.bulletPool.get(x, y, a, t, d, 1, 4, false);\r\n                    this.bullets.push(b);\r\n                },\r\n                getPlayerPosition: () => ({\r\n                    x: this.ship?.x || this.canvas!.width / 2,\r\n                    y: this.ship?.y || this.canvas!.height / 2\r\n                })\r\n            }, this.wave);\r\n        }\r\n\r\n        // Check for wave completion\r\n        if (!tutorialSystem.active && this.asteroids.length === 0 && (!this.boss || this.boss.dead)) {\r\n            // Check if game is complete (wave 20 boss defeated)\r\n            if (this.wave >= MAX_WAVES && this.boss?.dead) {\r\n                this.victory();\r\n                return;\r\n            }\r\n            this.wave++;\r\n            this.spawnWave();\r\n        }\r\n\r\n        for (let i = this.asteroids.length - 1; i >= 0; i--) {\r\n            const a = this.asteroids[i];\r\n            a.update(dt, this.canvas.width, this.canvas.height);\r\n            if (a.dead) {\r\n                this.asteroids[i] = this.asteroids[this.asteroids.length - 1];\r\n                this.asteroids.pop();\r\n            }\r\n        }\r\n\r\n        for (let i = this.powerups.length - 1; i >= 0; i--) {\r\n            const p = this.powerups[i];\r\n            p.update(dt, this.ship.x, this.ship.y, this.ship.dead);\r\n            if (!p.active) {\r\n                this.powerups[i] = this.powerups[this.powerups.length - 1];\r\n                this.powerups.pop();\r\n                continue;\r\n            }\r\n            const d = (p.x - this.ship.x) ** 2 + (p.y - this.ship.y) ** 2;\r\n            if (d < (p.radius + this.ship.radius) ** 2) {\r\n                p.active = false;\r\n                audioSystem.playPowerUp();\r\n                if (p.type === 'SHIELD') {\r\n                    this.ship.shields++;\r\n                    this.updateHUD();\r\n                    this.spawnText(this.ship.x, this.ship.y - 20, \"SHIELD\", \"#0ff\");\r\n                } else if (p.type === 'NUKE') {\r\n                    this.asteroids.forEach(a => a.break(this.getGameCallbacks(), this.asteroids, this.combo));\r\n                    if (this.boss) {\r\n                        this.boss.hp -= 50;\r\n                        if (this.boss.hp <= 0) {\r\n                            this.boss.dead = true;\r\n                            persistence.addShards(100);\r\n                            audioSystem.playExplosion('large');\r\n                            audioSystem.playMusic('wave');\r\n                        }\r\n                    }\r\n                    audioSystem.playNuke();\r\n                    this.spawnText(this.ship.x, this.ship.y - 20, \"NUKE\", \"#f00\");\r\n                } else if (p.type === 'SPEED') {\r\n                    this.ship.speedBoostTime = 10;\r\n                    this.spawnText(this.ship.x, this.ship.y - 20, \"SPEED UP\", \"#ff0\");\r\n                }\r\n            }\r\n        }\r\n\r\n        // Collision Logic (Optimized with Spatial Grid)\r\n        // 1. Clear and Populate Grid\r\n        this.spatialGrid.clear();\r\n        for (const a of this.asteroids) {\r\n            // Asteroid needs to satisfy SpatialObject interface\r\n            // Assuming Asteroid has x, y, r (radius)\r\n            this.spatialGrid.insert({ x: a.x, y: a.y, radius: a.r, ref: a });\r\n        }\r\n\r\n        // 2. Bullets vs Enemies (Asteroids & Boss)\r\n        for (const b of this.bullets) {\r\n            if (!b.active) continue;\r\n\r\n            if (b.isEnemy) {\r\n                // Enemy bullets vs Ship\r\n                if (this.ship.invincibleTime <= 0 && !this.ship.isDashing) {\r\n                    const d = (b.x - this.ship.x) ** 2 + (b.y - this.ship.y) ** 2;\r\n                    if (d < (b.radius + this.ship.radius) ** 2) {\r\n                        b.active = false;\r\n                        if (this.ship.hit({\r\n                            spawnBullet: this.spawnBullet.bind(this),\r\n                            spawnParticle: this.spawnParticle.bind(this),\r\n                            spawnText: this.spawnText.bind(this),\r\n                            updateWeaponUI: (t) => this.uiCallbacks?.onWeaponUpdate(t),\r\n                            updateHUD: this.updateHUD.bind(this),\r\n                            gameOver: this.gameOver.bind(this)\r\n                        })) {\r\n                            this.handlePlayerHit();\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                // Player bullets vs Boss\r\n                if (this.boss && !this.boss.dead) {\r\n                    const d = (b.x - this.boss.x) ** 2 + (b.y - this.boss.y) ** 2;\r\n                    if (d < 3600) { // Boss radius approx 60\r\n                        this.boss.hp -= b.damage;\r\n                        b.active = false;\r\n                        if (this.boss.hp <= 0) {\r\n                            this.boss.dead = true;\r\n                            audioSystem.playExplosion('large');\r\n                            persistence.addShards(50);\r\n                            audioSystem.playMusic('wave');\r\n                        }\r\n                        continue;\r\n                    }\r\n                }\r\n\r\n                // Player bullets vs Asteroids (Grid Query)\r\n                this.spatialGrid.query(b.x, b.y, b.radius, (item) => {\r\n                    if (!b.active) return; // Bullet might have died in previous callback\r\n                    const a = item.ref;\r\n                    // Double check distance (broad phase -> narrow phase)\r\n                    const d = (b.x - a.x) ** 2 + (b.y - a.y) ** 2;\r\n                    if (d < (a.r + b.radius) ** 2) {\r\n                        a.hit(b.damage, b.vx, b.vy, this.getGameCallbacks(), this.asteroids, this.combo);\r\n                        b.pierce--;\r\n                        if (b.pierce <= 0) b.active = false;\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        // Particles & Texts\r\n        for (let i = this.particles.length - 1; i >= 0; i--) {\r\n            const p = this.particles[i];\r\n            p.update(dt);\r\n            if (!p.active) {\r\n                this.particlePool.release(p);\r\n                this.particles[i] = this.particles[this.particles.length - 1];\r\n                this.particles.pop();\r\n            }\r\n        }\r\n        for (let i = this.floatingTexts.length - 1; i >= 0; i--) {\r\n            const t = this.floatingTexts[i];\r\n            t.update(dt);\r\n            if (!t.active) {\r\n                this.textPool.release(t);\r\n                this.floatingTexts[i] = this.floatingTexts[this.floatingTexts.length - 1];\r\n                this.floatingTexts.pop();\r\n            }\r\n        }\r\n    }\r\n\r\n    private draw() {\r\n        if (!this.ctx || !this.canvas) return;\r\n\r\n        this.ctx.fillStyle = '#050505';\r\n        this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n\r\n        this.ship?.draw(this.ctx);\r\n        assistPilot.draw(this.ctx);  // Draw assist pilot\r\n        this.bullets.forEach(b => b.draw(this.ctx!));\r\n        this.boss?.draw(this.ctx);\r\n        this.asteroids.forEach(a => a.draw(this.ctx!));\r\n        this.powerups.forEach(p => p.draw(this.ctx!));\r\n        this.particles.forEach(p => p.draw(this.ctx!));\r\n        this.floatingTexts.forEach(t => t.draw(this.ctx!));\r\n    }\r\n\r\n    private handlePlayerHit() {\r\n        this.lives--;\r\n        this.combo = 1;\r\n        this.updateHUD();\r\n        const invTime = 2.0 + ((persistence.profile.upgrades.shieldDur || 0) * 0.5);\r\n        if (this.ship) {\r\n            this.ship.reset(this.canvas!.width, this.canvas!.height, invTime);\r\n        }\r\n        audioSystem.playExplosion('large');\r\n\r\n        // Nova Logic\r\n        if ((persistence.profile.upgrades.nova || 0) > 0) {\r\n            this.asteroids.forEach(a => {\r\n                a.hp -= 5; // Massive damage\r\n                if (a.hp <= 0) a.break(this.getGameCallbacks(), this.asteroids, this.combo);\r\n            });\r\n            if (this.boss) {\r\n                this.boss.hp -= 50;\r\n                if (this.boss.hp <= 0) {\r\n                    this.boss.dead = true;\r\n                    persistence.addShards(100);\r\n                    audioSystem.playExplosion('large');\r\n                    audioSystem.playMusic('wave');\r\n                }\r\n            }\r\n            audioSystem.playNuke(); // Reuse Nuke sound\r\n            this.spawnText(this.ship!.x, this.ship!.y - 40, \"NOVA!\", \"#f00\");\r\n        }\r\n\r\n        if (this.lives <= 0) this.gameOver();\r\n    }\r\n\r\n    private gameOver() {\r\n        if ((persistence.profile.upgrades.revive || 0) > 0 && !this.hasRevived) {\r\n            this.hasRevived = true;\r\n            this.lives = this.ship!.maxLives;\r\n            this.ship!.reset(this.canvas!.width, this.canvas!.height);\r\n            this.ship!.invincibleTime = 3.0;\r\n            this.updateHUD();\r\n            audioSystem.playPowerUp();\r\n            this.spawnText(this.ship!.x, this.ship!.y - 40, \"SYSTEM RESTORED\", \"#0ff\");\r\n            return;\r\n        }\r\n        this.gameState = 'GAMEOVER';\r\n        audioSystem.playMusic('load');\r\n\r\n        let isNewHighScore = false;\r\n        if (this.score > persistence.profile.highScore) {\r\n            persistence.profile.highScore = this.score;\r\n            isNewHighScore = true;\r\n        }\r\n        if (this.wave > persistence.profile.maxWave) persistence.profile.maxWave = this.wave;\r\n        persistence.save();\r\n\r\n        this.uiCallbacks?.onGameOver(this.score, persistence.profile.highScore, isNewHighScore);\r\n    }\r\n\r\n    private victory() {\r\n        this.gameState = 'VICTORY';\r\n        audioSystem.playPowerUp(); // Victory sound\r\n\r\n        // Big bonus for completing all 20 waves\r\n        const victoryBonus = 500;\r\n        persistence.addShards(victoryBonus);\r\n        this.score += victoryBonus * 10;\r\n\r\n        // Update stats\r\n        let isNewHighScore = false;\r\n        if (this.score > persistence.profile.highScore) {\r\n            persistence.profile.highScore = this.score;\r\n            isNewHighScore = true;\r\n        }\r\n        if (this.wave > persistence.profile.maxWave) persistence.profile.maxWave = this.wave;\r\n        persistence.save();\r\n\r\n        // Trigger victory callback or fall back to game over\r\n        if (this.uiCallbacks?.onVictory) {\r\n            this.uiCallbacks.onVictory(this.score, persistence.profile.highScore);\r\n        } else {\r\n            // Fallback: use game over with victory flag implied by state\r\n            this.uiCallbacks?.onGameOver(this.score, persistence.profile.highScore, isNewHighScore);\r\n        }\r\n    }\r\n\r\n    private updateHUD() {\r\n        this.uiCallbacks?.onLivesUpdate(this.lives, this.ship?.shields || 0);\r\n        this.uiCallbacks?.onScoreUpdate(this.score);\r\n        this.uiCallbacks?.onComboUpdate(this.combo, 0);\r\n    }\r\n\r\n    private spawnBullet(b: Bullet) {\r\n        this.bullets.push(b);\r\n        if (tutorialSystem.active) tutorialSystem.checkShoot();\r\n    }\r\n    private spawnParticle(x: number, y: number, c: string) { this.particles.push(this.particlePool.get(x, y, c)); }\r\n    private spawnText(x: number, y: number, t: string, c: string) { this.floatingTexts.push(this.textPool.get(x, y, t, c)); }\r\n\r\n    private getGameCallbacks() {\r\n        return {\r\n            spawnParticle: this.spawnParticle.bind(this),\r\n            spawnText: this.spawnText.bind(this),\r\n            spawnPowerUp: (p: PowerUp) => this.powerups.push(p),\r\n            spawnAsteroid: (x: number, y: number, size: string) => {\r\n                this.asteroids.push(new Asteroid(x, y, size, this.canvas!.width, this.canvas!.height));\r\n            },\r\n            onScore: (amount: number) => {\r\n                this.score += amount;\r\n                this.uiCallbacks?.onScoreUpdate(this.score);\r\n            },\r\n            onCombo: () => {\r\n                this.combo++;\r\n                this.comboTimer = 2.5 + ((persistence.profile.upgrades.combo || 0) * 0.5);\r\n                audioSystem.playComboUp(this.combo);\r\n            }\r\n        };\r\n    }\r\n}\r\n\r\nexport const gameEngine = new GameEngine();\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\game\\core\\Pool.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":5,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":5,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[194,197],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[194,197],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":6,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[248,251],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[248,251],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":9,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[333,336],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[333,336],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":9,"column":78,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":81,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[374,377],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[374,377],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":15,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[520,523],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[520,523],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\game\\core\\SpatialGrid.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\game\\entities\\Asteroid.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\game\\entities\\Boss.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\game\\entities\\Bullet.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\game\\entities\\FloatingText.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\game\\entities\\Particle.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\game\\entities\\PowerUp.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\game\\entities\\Ship.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\game\\systems\\AssistPilot.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\game\\systems\\AudioSystem.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\game\\systems\\InputSystem.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\game\\systems\\Persistence.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\game\\systems\\PhysicsSystem.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\game\\systems\\SpriteCache.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\game\\systems\\TutorialSystem.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\game\\utils\\IconDrawer.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\main.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\views\\CanvasView.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\src\\views\\ParticleSystemView.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\tests\\e2e\\comprehensive.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\tests\\e2e\\verify_all_upgrades.spec.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":16,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[648,651],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[648,651],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":17,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[714,717],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[714,717],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":25,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1047,1050],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1047,1050],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":34,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1356,1359],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1356,1359],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":41,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1646,1649],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1646,1649],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":50,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":50,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2027,2030],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2027,2030],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":53,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":53,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2194,2197],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2194,2197],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":62,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":62,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2568,2571],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2568,2571],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":65,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":65,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2736,2739],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2736,2739],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":72,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":72,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3024,3027],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3024,3027],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":79,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":79,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3309,3312],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3309,3312],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":86,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":86,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3589,3592],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3589,3592],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":95,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":95,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3962,3965],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3962,3965],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":98,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":98,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4130,4133],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4130,4133],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":107,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":107,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4501,4504],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4501,4504],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":110,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":110,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4669,4672],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4669,4672],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":119,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":119,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5038,5041],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5038,5041],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":122,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":122,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5212,5215],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5212,5215],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":131,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":131,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5536,5539],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5536,5539],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":138,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":138,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5813,5816],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5813,5816],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":139,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":139,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5908,5911],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5908,5911],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":149,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":149,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6345,6348],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6345,6348],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":152,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":152,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6512,6515],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6512,6515],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":162,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":162,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6933,6936],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6933,6936],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":163,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":163,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7020,7023],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7020,7023],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":167,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":167,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7189,7192],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7189,7192],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":168,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":168,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7272,7275],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7272,7275],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":176,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":176,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7637,7640],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7637,7640],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":184,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":184,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7921,7924],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7921,7924],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":185,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":185,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7972,7975],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7972,7975],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":188,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":188,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8111,8114],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8111,8114],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":190,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":190,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8228,8231],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8228,8231],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":199,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":199,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8609,8612],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8609,8612],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":211,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":211,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9018,9021],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9018,9021],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":211,"column":71,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":211,"endColumn":74,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9065,9068],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9065,9068],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":215,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":215,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9178,9181],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9178,9181],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":218,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":218,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9314,9317],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9314,9317],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":227,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":227,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9595,9598],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9595,9598],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":234,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":234,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9887,9890],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9887,9890],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":241,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":241,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10168,10171],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10168,10171],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":247,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":247,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10358,10361],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10358,10361],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":248,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":248,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10430,10433],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10430,10433],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":249,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":249,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10516,10519],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10516,10519],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":252,"column":63,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":252,"endColumn":66,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10649,10652],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10649,10652],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\tests\\e2e\\verify_icons.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\tests\\e2e\\verify_issues.spec.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":22,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[888,891],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[888,891],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":22,"column":83,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":86,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[918,921],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[918,921],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'levelTitle' is assigned a value but never used.","line":108,"column":15,"nodeType":null,"messageId":"unusedVar","endLine":108,"endColumn":25},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":113,"column":13,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":113,"endColumn":26,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[4772,4785],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":115,"column":17,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":115,"endColumn":30,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[4877,4890],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { test, expect } from '@playwright/test';\r\n\r\ntest.describe('Game Issues - Paranoid Mode', () => {\r\n    test.beforeEach(async ({ page }) => {\r\n        page.on('pageerror', exception => {\r\n            console.log(`PAGE ERROR: ${exception}`);\r\n        });\r\n        page.on('console', msg => console.log(`BROWSER LOG: ${msg.text()}`));\r\n\r\n        // Clear state to ensure fresh start for each test\r\n        await page.addInitScript(() => {\r\n            window.localStorage.clear();\r\n        });\r\n\r\n        await page.goto('/');\r\n\r\n        // Rule 1: Hydration Wait - wait for start screen (actual rendered content)\r\n        const startScreen = page.locator('#start-screen');\r\n        await expect(startScreen).toBeVisible({ timeout: 10000 });\r\n\r\n        // Wait for game engine to be attached to window AND initialized (canvas set)\r\n        await page.waitForFunction(() => (window as any).gameEngine && (window as any).gameEngine.canvas);\r\n    });\r\n\r\n    test('Pause Screen should lead to Shop', async ({ page }) => {\r\n        // Rule 3: Actionability - assert visible before clicking\r\n        const startButton = page.getByRole('button', { name: /let's go|begin journey/i });\r\n        await expect(startButton).toBeVisible();\r\n        await startButton.click();\r\n\r\n        // Wait for start screen to hide\r\n        await expect(page.locator('#start-screen')).toBeHidden();\r\n\r\n        // Rule 4: Wait for game to be ready - check for canvas\r\n        const canvas = page.locator('#gameCanvas');\r\n        await expect(canvas).toBeVisible();\r\n\r\n        // Wait for pause button to appear (indicates game loop started)\r\n        // Wait for pause button to appear (indicates game loop started)\r\n        // Handle both desktop and mobile pause buttons by selecting the visible one\r\n        const pauseBtn = page.locator('#pause-btn-hud:visible, #mobile-pause-btn:visible').first();\r\n        await expect(pauseBtn).toBeVisible();\r\n        await pauseBtn.click();\r\n\r\n        // Wait for pause screen\r\n        const pauseScreen = page.locator('#pause-screen');\r\n        await expect(pauseScreen).toBeVisible();\r\n\r\n        // Click Shop button\r\n        const shopBtn = page.locator('#pause-shop-btn');\r\n        await expect(shopBtn).toBeVisible();\r\n        await shopBtn.click();\r\n\r\n        // Verify shop screen appears\r\n        const shopScreen = page.locator('#shop-screen');\r\n        await expect(shopScreen).toBeVisible();\r\n\r\n        // Close Shop - Should return to Pause Screen\r\n        const closeBtn = page.getByRole('button', { name: /all set/i });\r\n        await expect(closeBtn).toBeVisible();\r\n        await closeBtn.click();\r\n\r\n        // Verify shop closed and pause screen visible\r\n        await expect(shopScreen).toBeHidden();\r\n        await expect(pauseScreen).toBeVisible();\r\n    });\r\n\r\n    test('Tutorial should be present', async ({ page }) => {\r\n        // Start Game\r\n        const startButton = page.getByRole('button', { name: /let's go|begin journey/i });\r\n        await expect(startButton).toBeVisible();\r\n        await startButton.click();\r\n\r\n        await expect(page.locator('#start-screen')).toBeHidden();\r\n\r\n        // Wait for canvas to be ready\r\n        await expect(page.locator('#gameCanvas')).toBeVisible();\r\n\r\n        // Check for Tutorial Layer\r\n        const tutorialLayer = page.locator('#tutorial-layer');\r\n        await expect(tutorialLayer).toBeVisible({ timeout: 10000 });\r\n    });\r\n\r\n    test('Wave 1 should appear only after tutorial', async ({ page }) => {\r\n        // Start Game\r\n        const startButton = page.getByRole('button', { name: /let's go|begin journey/i });\r\n        await expect(startButton).toBeVisible();\r\n        await startButton.click();\r\n\r\n        await expect(page.locator('#start-screen')).toBeHidden();\r\n\r\n        // Wait for game to be ready\r\n        await expect(page.locator('#gameCanvas')).toBeVisible();\r\n\r\n        // 1. Verify Tutorial Active & Wave 1 Hidden\r\n        const tutorialLayer = page.locator('#tutorial-layer');\r\n        await expect(tutorialLayer).toBeVisible({ timeout: 10000 });\r\n\r\n        // Check Wave text is hidden during tutorial\r\n        const waveText = page.locator('.hud-center .hud-stat', { hasText: 'WAVE' });\r\n        await expect(waveText).toBeHidden();\r\n\r\n        // Check Level Overlay is not showing\r\n        const levelScreen = page.locator('#level-screen');\r\n        await expect(levelScreen).toBeAttached();\r\n        await expect(levelScreen).not.toHaveClass(/show-level/);\r\n\r\n        const levelTitle = page.locator('#level-title');\r\n        // await expect(levelTitle).toBeHidden(); // Flaky due to CSS transitions, relying on parent class check\r\n\r\n        // 2. Complete Tutorial programmatically\r\n        const success = await page.evaluate(() => {\r\n            // @ts-ignore\r\n            if (window.gameEngine && window.gameEngine.tutorialSystem) {\r\n                // @ts-ignore\r\n                window.gameEngine.tutorialSystem.end();\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        expect(success).toBe(true);\r\n\r\n        // 3. Verify Tutorial Hidden & Wave 1 Visible\r\n        await expect(tutorialLayer).toBeHidden();\r\n\r\n        // Wait for Wave text to appear - increased timeout for stability\r\n        await expect(waveText).toBeVisible({ timeout: 10000 });\r\n\r\n        const levelVal = page.locator('#level-val');\r\n        await expect(levelVal).toHaveText('1');\r\n    });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\tests\\e2e\\verify_shop_upgrades.spec.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":23,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[763,766],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[763,766],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":28,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[979,982],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[979,982],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":59,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":59,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2040,2043],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2040,2043],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":85,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":85,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2996,2999],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2996,2999],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":112,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":112,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4016,4019],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4016,4019],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":152,"column":66,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":152,"endColumn":69,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5492,5495],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5492,5495],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { test, expect } from '@playwright/test';\r\n\r\ntest.describe('Shop Power-up Verification', () => {\r\n\r\n    test.beforeEach(async ({ page }) => {\r\n        // Clear storage before each test\r\n        await page.addInitScript(() => {\r\n            localStorage.clear();\r\n        });\r\n    });\r\n\r\n    test('Base stats should be correct without upgrades', async ({ page }) => {\r\n        await page.goto('/');\r\n        await expect(page.locator('body')).toBeVisible();\r\n\r\n        // Start game\r\n        const startBtn = page.getByRole('button', { name: \"LET'S GO!\" });\r\n        await expect(startBtn).toBeVisible();\r\n        await startBtn.click();\r\n\r\n        // Check base stats\r\n        const stats = await page.evaluate(() => {\r\n            const ship = (window as any).gameEngine.ship;\r\n            return {\r\n                maxLives: ship.maxLives,\r\n                damageMult: ship.damageMult,\r\n                dashCooldown: ship.dashCooldown,\r\n                wave: (window as any).gameEngine.wave\r\n            };\r\n        });\r\n\r\n        expect(stats.maxLives).toBe(3);\r\n        expect(stats.damageMult).toBe(1);\r\n        expect(stats.wave).toBe(1);\r\n    });\r\n\r\n    test('Hull upgrade should increase max lives', async ({ page }) => {\r\n        // Inject Hull Upgrade Level 5\r\n        await page.addInitScript(() => {\r\n            const profile = {\r\n                shards: 0,\r\n                highScore: 0,\r\n                equippedSkin: 'default',\r\n                unlockedSkins: ['default'],\r\n                upgrades: { hull: 5 }, // +5 lives\r\n                maxWave: 0,\r\n                tutorialComplete: false\r\n            };\r\n            localStorage.setItem('hyperShardsProfile', JSON.stringify(profile));\r\n        });\r\n\r\n        await page.goto('/');\r\n        await expect(page.locator('body')).toBeVisible();\r\n\r\n        const startBtn = page.getByRole('button', { name: \"LET'S GO!\" });\r\n        await expect(startBtn).toBeVisible();\r\n        await startBtn.click();\r\n\r\n        const lives = await page.evaluate(() => (window as any).gameEngine.ship.maxLives);\r\n        expect(lives).toBe(8); // 3 base + 5 upgrade\r\n    });\r\n\r\n    test('Start upgrade should skip waves', async ({ page }) => {\r\n        // Inject Start Upgrade Level 1\r\n        await page.addInitScript(() => {\r\n            const profile = {\r\n                shards: 0,\r\n                highScore: 0,\r\n                equippedSkin: 'default',\r\n                unlockedSkins: ['default'],\r\n                upgrades: { start: 1 },\r\n                maxWave: 0,\r\n                tutorialComplete: false\r\n            };\r\n            localStorage.setItem('hyperShardsProfile', JSON.stringify(profile));\r\n        });\r\n\r\n        await page.goto('/');\r\n        await expect(page.locator('body')).toBeVisible();\r\n\r\n        const startBtn = page.getByRole('button', { name: \"LET'S GO!\" });\r\n        await expect(startBtn).toBeVisible();\r\n        await startBtn.click();\r\n\r\n        const wave = await page.evaluate(() => (window as any).gameEngine.wave);\r\n        expect(wave).toBe(4);\r\n    });\r\n\r\n    test('Damage and Fire Rate upgrades should modify ship stats', async ({ page }) => {\r\n        // Inject Damage Lvl 5 (+50%) and FireRate Lvl 5 (-25% delay)\r\n        await page.addInitScript(() => {\r\n            const profile = {\r\n                shards: 0,\r\n                highScore: 0,\r\n                equippedSkin: 'default',\r\n                unlockedSkins: ['default'],\r\n                upgrades: { damage: 5, fireRate: 5 },\r\n                maxWave: 0,\r\n                tutorialComplete: false\r\n            };\r\n            localStorage.setItem('hyperShardsProfile', JSON.stringify(profile));\r\n        });\r\n\r\n        await page.goto('/');\r\n        await expect(page.locator('body')).toBeVisible();\r\n\r\n        const startBtn = page.getByRole('button', { name: \"LET'S GO!\" });\r\n        await expect(startBtn).toBeVisible();\r\n        await startBtn.click();\r\n\r\n        const stats = await page.evaluate(() => {\r\n            const ship = (window as any).gameEngine.ship;\r\n            return {\r\n                damageMult: ship.damageMult\r\n            };\r\n        });\r\n\r\n        expect(stats.damageMult).toBe(1.5); // 1 + (5 * 0.1)\r\n    });\r\n\r\n    test('Rear Shot upgrade should fire backward bullet', async ({ page }) => {\r\n        // Inject Rear Upgrade\r\n        await page.addInitScript(() => {\r\n            const profile = {\r\n                shards: 0,\r\n                highScore: 0,\r\n                equippedSkin: 'default',\r\n                unlockedSkins: ['default'],\r\n                upgrades: { rear: 1 },\r\n                maxWave: 0,\r\n                tutorialComplete: false\r\n            };\r\n            localStorage.setItem('hyperShardsProfile', JSON.stringify(profile));\r\n        });\r\n\r\n        await page.goto('/');\r\n        await expect(page.locator('body')).toBeVisible();\r\n\r\n        const startBtn = page.getByRole('button', { name: \"LET'S GO!\" });\r\n        await expect(startBtn).toBeVisible();\r\n        await startBtn.click();\r\n\r\n        // Fire a shot (hold key to ensure game loop catches it)\r\n        await page.keyboard.down('Space');\r\n        await page.waitForTimeout(200); // Wait for a few frames\r\n        await page.keyboard.up('Space');\r\n\r\n        // Check bullet count. Should be at least 2 (one front, one rear)\r\n        // Note: might need a small wait for update loop to process input\r\n        await page.waitForTimeout(100);\r\n\r\n        const bulletCount = await page.evaluate(() => (window as any).gameEngine.bullets.length);\r\n        expect(bulletCount).toBeGreaterThanOrEqual(2);\r\n    });\r\n\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\njyti\\Desktop\\Google-Antigravity\\hyper-shards-v7\\vite.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
